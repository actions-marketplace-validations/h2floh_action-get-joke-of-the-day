name: Reusable CI

on:
  workflow_call:

jobs:
  CI:
    name: Increment Version
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Initialize npm
      run: |
        npm ci
        
    - name: Run format check
      run: |
        npm run format-check

    - name: Run linter
      run: |
        npm run lint

    - name: Run tests
      run: |
        npm run test
        
    - name: Run build
      run: |
        npm run build